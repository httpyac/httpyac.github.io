<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Scripting | httpYac</title>
    <meta name="description" content="Quickly and easily send REST, SOAP, GraphQL and gRPC requests">
    <link rel="preload stylesheet" href="/assets/style.a5bf969e.css" as="style">
    <link rel="modulepreload" href="/assets/chunks/virtual_search-data.8393dcbb.js">
    <link rel="modulepreload" href="/assets/app.346b35e8.js">
    <link rel="modulepreload" href="/assets/guide_scripting.md.3d628433.lean.js">
    
    <link rel="icon" href="/favicon.png">
  <meta name="theme-color" content="#706B69">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png">
  <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
  <meta name="msapplication-TileColor" content="#000000">
  <link rel="stylesheet" href="/index.css">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-93a960b4><!--[--><!--]--><!--[--><span tabindex="-1" data-v-151f2593></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-151f2593> Skip to content </a><!--]--><!----><header class="VPNav" data-v-93a960b4 data-v-0fa0e57d><div class="VPNavBar has-sidebar" data-v-0fa0e57d data-v-be450ad9><div class="container" data-v-be450ad9><div class="title" data-v-be450ad9><div class="VPNavBarTitle has-sidebar" data-v-be450ad9 data-v-6d2fb2d9><a class="title" href="/" data-v-6d2fb2d9><!--[--><!--]--><!--[--><img class="VPImage logo" src="/favicon.png" alt data-v-6db2186b><!--]--><!--[-->httpYac<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-be450ad9><div class="curtain" data-v-be450ad9></div><div class="content-body" data-v-be450ad9><!--[--><!--]--><div class="VPNavBarSearch search" data-v-be450ad9><!----><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><span class="DocSearch-Button-Key">Meta</span><span class="DocSearch-Button-Key">K</span></span></button></div></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-be450ad9 data-v-bdedfc22><span id="main-nav-aria-label" class="visually-hidden" data-v-bdedfc22>Main Navigation</span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-bdedfc22 data-v-96001b6b><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-96001b6b><span class="text" data-v-96001b6b><!----> Guide <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-96001b6b><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-96001b6b><div class="VPMenu" data-v-96001b6b data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuGroup" data-v-e7ea1737 data-v-b66affaf><p class="title" data-v-b66affaf>Installation</p><!--[--><!--[--><div class="VPMenuLink" data-v-b66affaf data-v-88f937c6><a class="VPLink link" href="/guide/installation_cli.html" data-v-88f937c6 data-v-a8b5c975><!--[-->CLI<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b66affaf data-v-88f937c6><a class="VPLink link" href="/guide/installation_vscode.html" data-v-88f937c6 data-v-a8b5c975><!--[-->VSCode<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b66affaf data-v-88f937c6><a class="VPLink link" href="/guide/installation_httpbook.html" data-v-88f937c6 data-v-a8b5c975><!--[-->VSCode Notebook<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b66affaf data-v-88f937c6><a class="VPLink link" href="/guide/installation_docker.html" data-v-88f937c6 data-v-a8b5c975><!--[-->Docker<!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-e7ea1737 data-v-b66affaf><p class="title" data-v-b66affaf>Language</p><!--[--><!--[--><div class="VPMenuLink" data-v-b66affaf data-v-88f937c6><a class="VPLink link" href="/guide/request.html" data-v-88f937c6 data-v-a8b5c975><!--[-->Request<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b66affaf data-v-88f937c6><a class="VPLink link" href="/guide/metaData.html" data-v-88f937c6 data-v-a8b5c975><!--[-->MetaData<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b66affaf data-v-88f937c6><a class="VPLink link" href="/guide/variables.html" data-v-88f937c6 data-v-a8b5c975><!--[-->Variables<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b66affaf data-v-88f937c6><a class="VPLink link" href="/guide/environments.html" data-v-88f937c6 data-v-a8b5c975><!--[-->Environments<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b66affaf data-v-88f937c6><a class="VPLink link active" href="/guide/scripting.html" data-v-88f937c6 data-v-a8b5c975><!--[-->Scripting<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b66affaf data-v-88f937c6><a class="VPLink link" href="/guide/assert.html" data-v-88f937c6 data-v-a8b5c975><!--[-->Assert<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b66affaf data-v-88f937c6><a class="VPLink link" href="/guide/comment.html" data-v-88f937c6 data-v-a8b5c975><!--[-->Comment<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b66affaf data-v-88f937c6><a class="VPLink link" href="/guide/hooks.html" data-v-88f937c6 data-v-a8b5c975><!--[-->Hooks<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b66affaf data-v-88f937c6><a class="VPLink link" href="/guide/response.html" data-v-88f937c6 data-v-a8b5c975><!--[-->Response<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b66affaf data-v-88f937c6><a class="VPLink link" href="/guide/injected_languages.html" data-v-88f937c6 data-v-a8b5c975><!--[-->Injected Languages<!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-bdedfc22 data-v-96001b6b><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-96001b6b><span class="text" data-v-96001b6b><!----> Support <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-96001b6b><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-96001b6b><div class="VPMenu" data-v-96001b6b data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-88f937c6><a class="VPLink link" href="/guide/examples.html" data-v-88f937c6 data-v-a8b5c975><!--[-->Examples<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-88f937c6><a class="VPLink link" href="/guide/troubleshooting.html" data-v-88f937c6 data-v-a8b5c975><!--[-->Troubleshooting<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/config/" data-v-bdedfc22 data-v-f2ec7ecf data-v-a8b5c975><!--[-->Configuration<!--]--><!----></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-bdedfc22 data-v-96001b6b><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-96001b6b><span class="text" data-v-96001b6b><!----> Plugins <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-96001b6b><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-96001b6b><div class="VPMenu" data-v-96001b6b data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-88f937c6><a class="VPLink link" href="/plugins/" data-v-88f937c6 data-v-a8b5c975><!--[-->Development Guide<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-88f937c6><a class="VPLink link" href="/plugins/plugin-api.html" data-v-88f937c6 data-v-a8b5c975><!--[-->API Reference<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-bdedfc22 data-v-96001b6b><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-96001b6b><span class="text" data-v-96001b6b><!----> Source <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-96001b6b><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-96001b6b><div class="VPMenu" data-v-96001b6b data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-88f937c6><a class="VPLink link" href="https://github.com/anweber/httpyac" target="_blank" rel="noreferrer" data-v-88f937c6 data-v-a8b5c975><!--[-->httpyac CLI<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-a8b5c975><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-88f937c6><a class="VPLink link" href="https://github.com/anweber/vscode-httpyac" target="_blank" rel="noreferrer" data-v-88f937c6 data-v-a8b5c975><!--[-->vscode-httpyac<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-a8b5c975><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-88f937c6><a class="VPLink link" href="https://github.com/anweber/httpbook" target="_blank" rel="noreferrer" data-v-88f937c6 data-v-a8b5c975><!--[-->httpbook<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-a8b5c975><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-88f937c6><a class="VPLink link" href="https://github.com/httpyac/httpyac.github.io" target="_blank" rel="noreferrer" data-v-88f937c6 data-v-a8b5c975><!--[-->httpyac.github.io<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-a8b5c975><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-be450ad9 data-v-da3f667a><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-da3f667a data-v-0d529b6d data-v-f3c41672><span class="check" data-v-f3c41672><span class="icon" data-v-f3c41672><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-0d529b6d><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-0d529b6d><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-be450ad9 data-v-66bb1f24 data-v-96001b6b><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-96001b6b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-96001b6b><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-96001b6b><div class="VPMenu" data-v-96001b6b data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-66bb1f24><div class="item appearance" data-v-66bb1f24><p class="label" data-v-66bb1f24>Appearance</p><div class="appearance-action" data-v-66bb1f24><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-66bb1f24 data-v-0d529b6d data-v-f3c41672><span class="check" data-v-f3c41672><span class="icon" data-v-f3c41672><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-0d529b6d><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-0d529b6d><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-be450ad9 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-93a960b4 data-v-2817d72e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2817d72e><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-2817d72e><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-2817d72e>Menu</span></button><a class="top-link" href="#" data-v-2817d72e>Return to top</a></div><aside class="VPSidebar" data-v-93a960b4 data-v-c79ccefa><div class="curtain" data-v-c79ccefa></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-c79ccefa><span class="visually-hidden" id="sidebar-aria-label" data-v-c79ccefa> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-c79ccefa><section class="VPSidebarItem level-0 has-active" data-v-c79ccefa data-v-983f6b21><div class="item" role="button" data-v-983f6b21><div class="indicator" data-v-983f6b21></div><a class="VPLink link" data-v-983f6b21 data-v-a8b5c975><!--[--><h2 class="text" data-v-983f6b21>Guide</h2><!--]--><!----></a><!----></div><div class="items" data-v-983f6b21><!--[--><section class="VPSidebarItem level-1" data-v-983f6b21 data-v-983f6b21><div class="item" role="button" data-v-983f6b21><div class="indicator" data-v-983f6b21></div><a class="VPLink link" data-v-983f6b21 data-v-a8b5c975><!--[--><h3 class="text" data-v-983f6b21>Installation</h3><!--]--><!----></a><!----></div><div class="items" data-v-983f6b21><!--[--><div class="VPSidebarItem level-2 is-link" data-v-983f6b21 data-v-983f6b21><div class="item" data-v-983f6b21><div class="indicator" data-v-983f6b21></div><a class="VPLink link link" href="/guide/installation_cli.html" data-v-983f6b21 data-v-a8b5c975><!--[--><p class="text" data-v-983f6b21>CLI</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-983f6b21 data-v-983f6b21><div class="item" data-v-983f6b21><div class="indicator" data-v-983f6b21></div><a class="VPLink link link" href="/guide/installation_vscode.html" data-v-983f6b21 data-v-a8b5c975><!--[--><p class="text" data-v-983f6b21>VSCode</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-983f6b21 data-v-983f6b21><div class="item" data-v-983f6b21><div class="indicator" data-v-983f6b21></div><a class="VPLink link link" href="/guide/installation_httpbook.html" data-v-983f6b21 data-v-a8b5c975><!--[--><p class="text" data-v-983f6b21>VSCode Notebook</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-983f6b21 data-v-983f6b21><div class="item" data-v-983f6b21><div class="indicator" data-v-983f6b21></div><a class="VPLink link link" href="/guide/installation_docker.html" data-v-983f6b21 data-v-a8b5c975><!--[--><p class="text" data-v-983f6b21>Docker</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 has-active" data-v-983f6b21 data-v-983f6b21><div class="item" role="button" data-v-983f6b21><div class="indicator" data-v-983f6b21></div><a class="VPLink link" data-v-983f6b21 data-v-a8b5c975><!--[--><h3 class="text" data-v-983f6b21>Language</h3><!--]--><!----></a><!----></div><div class="items" data-v-983f6b21><!--[--><div class="VPSidebarItem level-2 is-link" data-v-983f6b21 data-v-983f6b21><div class="item" data-v-983f6b21><div class="indicator" data-v-983f6b21></div><a class="VPLink link link" href="/guide/request.html" data-v-983f6b21 data-v-a8b5c975><!--[--><p class="text" data-v-983f6b21>Request</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-983f6b21 data-v-983f6b21><div class="item" data-v-983f6b21><div class="indicator" data-v-983f6b21></div><a class="VPLink link link" href="/guide/metaData.html" data-v-983f6b21 data-v-a8b5c975><!--[--><p class="text" data-v-983f6b21>MetaData</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-983f6b21 data-v-983f6b21><div class="item" data-v-983f6b21><div class="indicator" data-v-983f6b21></div><a class="VPLink link link" href="/guide/variables.html" data-v-983f6b21 data-v-a8b5c975><!--[--><p class="text" data-v-983f6b21>Variables</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-983f6b21 data-v-983f6b21><div class="item" data-v-983f6b21><div class="indicator" data-v-983f6b21></div><a class="VPLink link link" href="/guide/environments.html" data-v-983f6b21 data-v-a8b5c975><!--[--><p class="text" data-v-983f6b21>Environments</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link is-active has-active" data-v-983f6b21 data-v-983f6b21><div class="item" data-v-983f6b21><div class="indicator" data-v-983f6b21></div><a class="VPLink link link" href="/guide/scripting.html" data-v-983f6b21 data-v-a8b5c975><!--[--><p class="text" data-v-983f6b21>Scripting</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-983f6b21 data-v-983f6b21><div class="item" data-v-983f6b21><div class="indicator" data-v-983f6b21></div><a class="VPLink link link" href="/guide/assert.html" data-v-983f6b21 data-v-a8b5c975><!--[--><p class="text" data-v-983f6b21>Assert</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-983f6b21 data-v-983f6b21><div class="item" data-v-983f6b21><div class="indicator" data-v-983f6b21></div><a class="VPLink link link" href="/guide/comment.html" data-v-983f6b21 data-v-a8b5c975><!--[--><p class="text" data-v-983f6b21>Comment</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-983f6b21 data-v-983f6b21><div class="item" data-v-983f6b21><div class="indicator" data-v-983f6b21></div><a class="VPLink link link" href="/guide/hooks.html" data-v-983f6b21 data-v-a8b5c975><!--[--><p class="text" data-v-983f6b21>Hooks</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-983f6b21 data-v-983f6b21><div class="item" data-v-983f6b21><div class="indicator" data-v-983f6b21></div><a class="VPLink link link" href="/guide/response.html" data-v-983f6b21 data-v-a8b5c975><!--[--><p class="text" data-v-983f6b21>Response</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-983f6b21 data-v-983f6b21><div class="item" data-v-983f6b21><div class="indicator" data-v-983f6b21></div><a class="VPLink link link" href="/guide/injected_languages.html" data-v-983f6b21 data-v-a8b5c975><!--[--><p class="text" data-v-983f6b21>Injected Languages</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><div class="group" data-v-c79ccefa><section class="VPSidebarItem level-0" data-v-c79ccefa data-v-983f6b21><div class="item" role="button" data-v-983f6b21><div class="indicator" data-v-983f6b21></div><a class="VPLink link" data-v-983f6b21 data-v-a8b5c975><!--[--><h2 class="text" data-v-983f6b21>Support</h2><!--]--><!----></a><!----></div><div class="items" data-v-983f6b21><!--[--><div class="VPSidebarItem level-1 is-link" data-v-983f6b21 data-v-983f6b21><div class="item" data-v-983f6b21><div class="indicator" data-v-983f6b21></div><a class="VPLink link link" href="/guide/examples.html" data-v-983f6b21 data-v-a8b5c975><!--[--><p class="text" data-v-983f6b21>Examples</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-983f6b21 data-v-983f6b21><div class="item" data-v-983f6b21><div class="indicator" data-v-983f6b21></div><a class="VPLink link link" href="/guide/troubleshooting.html" data-v-983f6b21 data-v-a8b5c975><!--[--><p class="text" data-v-983f6b21>Troubleshooting</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-c79ccefa><section class="VPSidebarItem level-0" data-v-c79ccefa data-v-983f6b21><div class="item" role="button" data-v-983f6b21><div class="indicator" data-v-983f6b21></div><a class="VPLink link" data-v-983f6b21 data-v-a8b5c975><!--[--><h2 class="text" data-v-983f6b21>Plugins</h2><!--]--><!----></a><!----></div><div class="items" data-v-983f6b21><!--[--><div class="VPSidebarItem level-1 is-link" data-v-983f6b21 data-v-983f6b21><div class="item" data-v-983f6b21><div class="indicator" data-v-983f6b21></div><a class="VPLink link link" href="/plugins/" data-v-983f6b21 data-v-a8b5c975><!--[--><p class="text" data-v-983f6b21>Development Guide</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-983f6b21 data-v-983f6b21><div class="item" data-v-983f6b21><div class="indicator" data-v-983f6b21></div><a class="VPLink link link" href="/plugins/plugin-api.html" data-v-983f6b21 data-v-a8b5c975><!--[--><p class="text" data-v-983f6b21>API reference</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-93a960b4 data-v-0bd490fb><div class="VPDoc has-sidebar has-aside" data-v-0bd490fb data-v-c5936a1e><div class="container" data-v-c5936a1e><div class="aside" data-v-c5936a1e><div class="aside-curtain" data-v-c5936a1e></div><div class="aside-container" data-v-c5936a1e><div class="aside-content" data-v-c5936a1e><div class="VPDocAside" data-v-c5936a1e data-v-cdc66372><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-cdc66372 data-v-5dd9d5f6><div class="content" data-v-5dd9d5f6><div class="outline-marker" data-v-5dd9d5f6></div><div class="outline-title" data-v-5dd9d5f6>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-5dd9d5f6><span class="visually-hidden" id="doc-outline-aria-label" data-v-5dd9d5f6> Table of Contents for current page </span><ul class="root" data-v-5dd9d5f6 data-v-1188541a><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-cdc66372></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-c5936a1e><div class="content-container" data-v-c5936a1e><!--[--><!--]--><main class="main" data-v-c5936a1e><div style="position:relative;" class="vp-doc _guide_scripting" data-v-c5936a1e><div><h1 id="scripting" tabindex="-1">Scripting <a class="header-anchor" href="#scripting" aria-hidden="true">#</a></h1><p>It is possible to use NodeJS scripts. All scripts before the request line are executed before the request is called. All scripts after the request line are executed as soon as the response is received. All exports of the script are stored as variables.</p><div class="language-http line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">{{</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">  //pre request script</span></span>
<span class="line"><span style="color:#A6ACCD;">  const crypto = require(&#39;crypto&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">  const date = new Date();</span></span>
<span class="line"><span style="color:#A6ACCD;">  const signatureBase64 = crypto.createHmac(&#39;sha256&#39;, &#39;secret&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">  .update(`${request.method}\u2028${request.url}\u2028${date.getTime()}`).digest(&quot;base64&quot;);</span></span>
<span class="line"><span style="color:#A6ACCD;">  exports.authDate = date.toUTCString();</span></span>
<span class="line"><span style="color:#A6ACCD;">  exports.authentcation = `Basic ${signatureBase64}`;</span></span>
<span class="line"><span style="color:#A6ACCD;">}}</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">GET</span><span style="color:#A6ACCD;"> https://httpbin.org/anything</span></span>
<span class="line"><span style="color:#F07178;">Date</span><span style="color:#F78C6C;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{{authDate}}</span></span>
<span class="line"><span style="color:#F07178;">Authentication</span><span style="color:#F78C6C;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{{authentcation}}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">{{</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">  // post request script</span></span>
<span class="line"><span style="color:#A6ACCD;">  const assert = require(&#39;assert&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">  test(&quot;authentcation is valid&quot;, () =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">    assert.equal(response.parsedBody.headers.Authentication, authentcation);</span></span>
<span class="line"><span style="color:#A6ACCD;">  });</span></span>
<span class="line"><span style="color:#A6ACCD;">}}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Scripts are executed in a custom context/ execution environment. This context should behave identically to <a href="https://nodejs.org/api/vm.html#what-does-it-mean-to-contextify-an-object" target="_blank" rel="noreferrer">NodeJS Default execution environment</a>, but there may be variations. These can be bypassed using require.</p></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>The line break after <code>&#39;{{&#39;</code> is important to distinguish between script execution and variable substitution/ templating.</p></div><h2 id="async-await-or-promise" tabindex="-1">Async/Await or Promise <a class="header-anchor" href="#async-await-or-promise" aria-hidden="true">#</a></h2><p>If the execution of the script is <code>async</code>, it is necessary to export this Promise. In this case, the program waits for the Promise to be completed.</p><div class="language-http line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">{{</span></span>
<span class="line"><span style="color:#A6ACCD;">  async function wait(){</span></span>
<span class="line"><span style="color:#A6ACCD;">    const date = new Date();</span></span>
<span class="line"><span style="color:#A6ACCD;">    await sleep(10000);</span></span>
<span class="line"><span style="color:#A6ACCD;">    const afterDate = new Date();</span></span>
<span class="line"><span style="color:#A6ACCD;">    return afterDate.getTime() - date.getTime();</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">  exports.wait = wait();</span></span>
<span class="line"><span style="color:#A6ACCD;">}}</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">GET</span><span style="color:#A6ACCD;"> https://httpbin.org/anything?delay={{wait}}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="access-to-variables" tabindex="-1">Access to Variables <a class="header-anchor" href="#access-to-variables" aria-hidden="true">#</a></h2><p>All Variables already defined can be accessed via the <a href="https://nodejs.org/api/globals.html" target="_blank" rel="noreferrer">global object</a>.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Since all variables are placed on the global scope of the script, they may overwrite other variables. Please use unique variable names</p></div><p>In addition to the defined variables and <a href="https://nodejs.org/api/globals.html" target="_blank" rel="noreferrer">NodeJS Global</a>, the following values are also set on global object.</p><table><thead><tr><th>name</th><th>description</th><th>condition</th><th>example</th></tr></thead><tbody><tr><td>$global</td><td>Object which allows storing global Variables</td><td></td><td><a href="https://github.com/httpyac/httpyac.github.io/tree/main/examples/variables/globalVariables.http" target="_blank" rel="noreferrer">globalVariables.http</a></td></tr><tr><td>$requestClient</td><td><a href="https://github.com/AnWeber/httpyac/blob/main/src/models/requestClient.ts" target="_blank" rel="noreferrer">requestClient</a> to send additional body in streaming event.</td><td></td><td><a href="https://github.com/httpyac/httpyac.github.io/tree/main/examples/request/requestclient.http" target="_blank" rel="noreferrer">requestClient.http</a></td></tr><tr><td>httpFile</td><td>current <a href="https://github.com/AnWeber/httpyac/blob/main/src/models/httpFile.ts" target="_blank" rel="noreferrer">httpFile</a></td><td>-</td><td><a href="https://github.com/httpyac/httpyac.github.io/tree/main/examples/script/scriptVariablesHttpFile.http" target="_blank" rel="noreferrer">scriptVariablesHttpFile.http</a></td></tr><tr><td>httpRegion</td><td>current <a href="https://github.com/AnWeber/httpyac/blob/main/src/models/httpRegion.ts" target="_blank" rel="noreferrer">httpRegion</a></td><td>-</td><td><a href="https://github.com/httpyac/httpyac.github.io/tree/main/examples/script/scriptVariablesHttpRegion.http" target="_blank" rel="noreferrer">scriptVariablesHttpRegion.http</a></td></tr><tr><td>oauth2Session</td><td><a href="https://github.com/AnWeber/httpyac/blob/main/src/models/openIdInformation.ts#L29-L37" target="_blank" rel="noreferrer">OAuth2 Response</a></td><td>only if <a href="/guide/variables.html#oauth2-openid-connect">OAuth2/ OpenId Connect</a> is used</td><td><a href="https://github.com/httpyac/httpyac.github.io/tree/main/examples/script/scriptVariablesOAuthSession.http" target="_blank" rel="noreferrer">scriptVariablesOAuthSession.http</a></td></tr><tr><td>request</td><td>request of the next <a href="https://github.com/AnWeber/httpyac/blob/main/src/models/httpRequest.ts" target="_blank" rel="noreferrer">http request</a></td><td>-</td><td><a href="https://github.com/httpyac/httpyac.github.io/tree/main/examples/variables/custom.http" target="_blank" rel="noreferrer">custom.http</a></td></tr><tr><td>response</td><td><a href="https://github.com/AnWeber/httpyac/blob/main/src/models/httpResponse.ts" target="_blank" rel="noreferrer">http response</a> of the last executed request</td><td>only use it in post request scripts or for responses imported with <code>@forceRef</code></td><td><a href="https://github.com/httpyac/httpyac.github.io/tree/main/examples/script/assert.http" target="_blank" rel="noreferrer">websocket.http</a></td></tr><tr><td>sleep</td><td><a href="https://github.com/AnWeber/httpyac/blob/main/src/utils/promiseUtils.ts#L7" target="_blank" rel="noreferrer">Method</a> to wait for a fixed period of time</td><td>-</td><td><a href="https://github.com/httpyac/httpyac.github.io/tree/main/examples/request/grpc/grpcClientStreaming.http" target="_blank" rel="noreferrer">grpcClientStreaming.http</a></td></tr><tr><td>test</td><td>method to simplify <a href="https://github.com/AnWeber/httpyac/blob/main/src/models/testFunction.ts#L6-L14" target="_blank" rel="noreferrer">tests</a> (<a href="https://github.com/httpyac/httpyac.github.io/tree/main/examples/project/tests/assert.http" target="_blank" rel="noreferrer">assert</a> or <a href="https://github.com/httpyac/httpyac.github.io/tree/main/examples/project/tests/chai.http" target="_blank" rel="noreferrer">chai</a>)</td><td>-</td><td><a href="https://github.com/httpyac/httpyac.github.io/tree/main/examples/script/test.http" target="_blank" rel="noreferrer">test.http</a></td></tr><tr><td>__dirname</td><td><a href="https://nodejs.org/api/modules.html#__dirname" target="_blank" rel="noreferrer">path to current working directory</a></td><td>-</td><td>-</td></tr><tr><td>__filename</td><td><a href="https://nodejs.org/api/modules.html#__filename" target="_blank" rel="noreferrer">The file name of the current module.</a></td><td>-</td><td>-</td></tr></tbody></table><h2 id="require" tabindex="-1">Require <a class="header-anchor" href="#require" aria-hidden="true">#</a></h2><p>External scripts can be imported using require, but you need to install dependencies yourself.</p><div class="language-http line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">{{</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">  const { authenticate } = require(&#39;./scriptRequire&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">  const authDate = new Date();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  exports.authDate = authDate.toUTCString();</span></span>
<span class="line"><span style="color:#A6ACCD;">  exports.authentication = authenticate(authDate, request);</span></span>
<span class="line"><span style="color:#A6ACCD;">}}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">GET</span><span style="color:#A6ACCD;"> https://httpbin.org/anything</span></span>
<span class="line"><span style="color:#F07178;">Authentication</span><span style="color:#F78C6C;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{{authentication}}</span></span>
<span class="line"><span style="color:#F07178;">Date</span><span style="color:#F78C6C;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{{authDate}}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>External dependencies must be installed independently, exceptions are , , and Dependency, which are provided from the extension.</p></div><p>External dependencies must be installed independently, but some dependencies are provided from httpyac:</p><ul><li><a href="https://www.npmjs.com/package/@cloudamqp/amqp-client" target="_blank" rel="noreferrer">@cloudamqp/amqp-client</a></li><li><a href="https://www.npmjs.com/package/@xmldom/xmldom" target="_blank" rel="noreferrer">@xmldom/xmldom</a></li><li><a href="https://www.npmjs.com/package/dayjs" target="_blank" rel="noreferrer">dayjs</a> (<a href="https://github.com/httpyac/httpyac.github.io/tree/main/examples/script/dayjs.http" target="_blank" rel="noreferrer">example</a>)</li><li><a href="https://www.npmjs.com/package/eventsource" target="_blank" rel="noreferrer">eventsource</a></li><li><a href="https://www.npmjs.com/package/got" target="_blank" rel="noreferrer">got</a></li><li><a href="https://www.npmjs.com/package/@grpc/grpc-js" target="_blank" rel="noreferrer">grpc-js</a> (<a href="https://github.com/httpyac/httpyac.github.io/tree/main/examples/request/grpc/grpc.http" target="_blank" rel="noreferrer">example</a>)</li><li><a href="https://www.npmjs.com/package/httpyac" target="_blank" rel="noreferrer">httpYac</a></li><li><a href="https://www.npmjs.com/package/mqtt" target="_blank" rel="noreferrer">mqtt</a></li><li><a href="https://nodejs.org/docs/latest/api/" target="_blank" rel="noreferrer">NodeJS API</a> (<a href="https://github.com/httpyac/httpyac.github.io/tree/main/examples/script/assert.http" target="_blank" rel="noreferrer">example</a>)</li><li><a href="https://www.npmjs.com/package/uuid" target="_blank" rel="noreferrer">uuid</a> (<a href="https://github.com/httpyac/httpyac.github.io/tree/main/examples/script/uuid.http" target="_blank" rel="noreferrer">example</a>)</li><li><a href="https://www.npmjs.com/package/@types/vscode" target="_blank" rel="noreferrer">vscode</a></li><li><a href="https://www.npmjs.com/package/ws" target="_blank" rel="noreferrer">ws</a></li><li><a href="https://www.npmjs.com/package/xpath" target="_blank" rel="noreferrer">xpath</a> (<a href="https://github.com/httpyac/httpyac.github.io/tree/main/examples/script/xpath.http" target="_blank" rel="noreferrer">example</a>)</li></ul><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p><a href="https://nodejs.org/api/modules.html#modules_require_cache" target="_blank" rel="noreferrer">NodeJS</a> caches all loaded scripts. Since in VS Code the script is executed in the context of the extension, the content of the script is not reloaded. Therefore, the script must be manually removed from the cache.</p></div><h2 id="console" tabindex="-1">Console <a class="header-anchor" href="#console" aria-hidden="true">#</a></h2><p>The console cannot be accessed in VS Code. Therefore, a separate Console object is provided in the context of the script that redirects the output to the OutputChannel.</p><div class="language-http line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#F78C6C;">@</span><span style="color:#A6ACCD;">foo = </span><span style="color:#C3E88D;">https://httpbin.org</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">{{</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.info(foo);</span></span>
<span class="line"><span style="color:#A6ACCD;">}}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="global-scripts" tabindex="-1">Global Scripts <a class="header-anchor" href="#global-scripts" aria-hidden="true">#</a></h2><p>Scripts with no request in the same region are always executed (Global Scripts).</p><div class="language-http line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">{{</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.info(&#39;on every run&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">}}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">###</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">GET</span><span style="color:#A6ACCD;"> https://httpbin.org/json</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">GET</span><span style="color:#A6ACCD;"> https://httpbin.org/json</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="events" tabindex="-1">Events <a class="header-anchor" href="#events" aria-hidden="true">#</a></h2><p>The normal script registration is executed in order of occurrence in http File. For the execution of a request, several steps have to be executed besides the actual request: Replace Variables, Prepare Body, Pretty Print Body. With events scripts can be hooked into concrete steps in this process.</p><div class="language-http line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line highlighted"><span style="color:#A6ACCD;">{{@response</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.info(&quot;on every request&quot;);</span></span>
<span class="line"><span style="color:#A6ACCD;">}}</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">GET</span><span style="color:#A6ACCD;"> https://httpbin.org/json</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>The following events are possible.</p><table><thead><tr><th>Events</th><th>Description</th></tr></thead><tbody><tr><td>request</td><td>event triggered before every request (but after replaceVariableHook)</td></tr><tr><td>streaming</td><td>event triggered while client streaming</td></tr><tr><td>response</td><td>event triggered on response of request</td></tr><tr><td>responseLogging</td><td>event triggered on output of response, used for altering output which is provided with variable response</td></tr><tr><td>after</td><td>event triggered after all request is sent</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>The events can be registered automatically globally using <code>+</code>.</p></div><div class="language-http line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line highlighted"><span style="color:#A6ACCD;">{{+after</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.info(`on every request: ${response.statusCode}`);</span></span>
<span class="line"><span style="color:#A6ACCD;">}}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">###</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">GET</span><span style="color:#A6ACCD;"> https://httpbin.org/json</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">GET</span><span style="color:#A6ACCD;"> https://httpbin.org/json</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>If no event is specified for global registration, the script is executed before every request.</p><div class="language-http line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line highlighted"><span style="color:#A6ACCD;">{{+</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.info(&quot;on every request&quot;);</span></span>
<span class="line"><span style="color:#A6ACCD;">}}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">###</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">GET</span><span style="color:#A6ACCD;"> https://httpbin.org/json</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">GET</span><span style="color:#A6ACCD;"> https://httpbin.org/json</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><img src="/assets/scripting.8a515e08.svg" alt="events"></p><h2 id="intellij-script" tabindex="-1">Intellij Script <a class="header-anchor" href="#intellij-script" aria-hidden="true">#</a></h2><p>Intellij Scripts are supported. An <a href="https://www.jetbrains.com/help/idea/http-client-reference.html" target="_blank" rel="noreferrer">Http client</a> and <a href="https://www.jetbrains.com/help/idea/http-response-reference.html" target="_blank" rel="noreferrer">response</a> object corresponding to the interface is created and are available in the script.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>The execution environment differs between NodeJS and Intellij (uses Nashorn). Possibly the behavior is not completely identical, to Intellij Execution. If there are problems, please let me know.</p></div><div class="language-http line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line highlighted"><span style="color:#89DDFF;font-style:italic;">POST</span><span style="color:#A6ACCD;"> https://httpbin.org/anything</span></span>
<span class="line"><span style="color:#F07178;">Content-Type</span><span style="color:#F78C6C;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">application/x-www-form-urlencoded</span></span>
<span class="line"><span style="color:#F07178;">accept</span><span style="color:#F78C6C;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">application/json</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">email=user@domain.loc&amp;password=2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">&gt; ./intellij.js</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">POST</span><span style="color:#A6ACCD;"> https://httpbin.org/anything</span></span>
<span class="line"><span style="color:#F07178;">Content-Type</span><span style="color:#F78C6C;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">application/x-www-form-urlencoded</span></span>
<span class="line"><span style="color:#F07178;">accept</span><span style="color:#F78C6C;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">application/json</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">email=user@domain.loc&amp;password=3</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">&gt; {% client.global.set(&quot;email&quot;, response.body.form.email); %}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="how-to-debug-scripts" tabindex="-1">How to debug scripts <a class="header-anchor" href="#how-to-debug-scripts" aria-hidden="true">#</a></h2><ol><li>Install httpYac cli with <code>npm install httpyac -g</code></li><li>open Http File in VS Code</li><li>add <a href="https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Statements/debugger" target="_blank" rel="noreferrer">debugger;</a> statement in script</li><li>open <a href="https://code.visualstudio.com/docs/nodejs/nodejs-debugging#_javascript-debug-terminal" target="_blank" rel="noreferrer">Javascript Debug Terminal</a> in VS Code</li><li>execute command <code>httpyac &lt;file&gt; -l &lt;line&gt;</code></li></ol><div class="language-http line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">{{</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">  //pre request script</span></span>
<span class="line"><span style="color:#A6ACCD;">  const crypto = require(&#39;crypto&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">  const date = new Date();</span></span>
<span class="line"><span style="color:#A6ACCD;">  const signatureBase64 = crypto.createHmac(&#39;sha256&#39;, &#39;secret&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">  .update(`${request.method}\u2028${request.url}\u2028${date.getTime()}`).digest(&quot;base64&quot;);</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">  debugger;</span></span>
<span class="line"><span style="color:#A6ACCD;">  exports.authDate = date.toUTCString();</span></span>
<span class="line"><span style="color:#A6ACCD;">  exports.authentcation = `Basic ${signatureBase64}`;</span></span>
<span class="line"><span style="color:#A6ACCD;">}}</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">GET</span><span style="color:#A6ACCD;"> https://httpbin.org/json</span></span>
<span class="line"><span style="color:#F07178;">Date</span><span style="color:#F78C6C;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{{authDate}}</span></span>
<span class="line"><span style="color:#F07178;">Authentication</span><span style="color:#F78C6C;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{{authentcation}}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></div></div></main><!--[--><!--]--><footer class="VPDocFooter" data-v-c5936a1e data-v-2813752b><!----><div class="prev-next" data-v-2813752b><div class="pager" data-v-2813752b><a class="pager-link prev" href="/guide/environments.html" data-v-2813752b><span class="desc" data-v-2813752b>Previous page</span><span class="title" data-v-2813752b>Environments</span></a></div><div class="has-prev pager" data-v-2813752b><a class="pager-link next" href="/guide/assert.html" data-v-2813752b><span class="desc" data-v-2813752b>Next page</span><span class="title" data-v-2813752b>Assert</span></a></div></div></footer><!--[--><!--]--></div></div></div></div></div><footer class="VPFooter has-sidebar" data-v-93a960b4 data-v-d24360a6><div class="container" data-v-d24360a6><!----><p class="copyright" data-v-d24360a6>MIT Licensed | Copyright  2020-present <a href="https://github.com/anweber">Andreas Weber</a></p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"config_index.md\":\"92211815\",\"guide_environments.md\":\"7afada72\",\"guide_comment.md\":\"66379c0e\",\"guide_assert.md\":\"d976784d\",\"guide_badges.md\":\"c765e811\",\"guide_examples.md\":\"f2251dbe\",\"guide_hooks.md\":\"38d20f14\",\"guide_index.md\":\"dfad76bd\",\"guide_injected_languages.md\":\"fe9b17ff\",\"guide_installation.md\":\"41d2d0d9\",\"guide_installation_docker.md\":\"d2e3a1db\",\"guide_installation_cli.md\":\"d264be2f\",\"guide_installation_httpbook.md\":\"45fba991\",\"guide_installation_vscode.md\":\"30775c1a\",\"guide_metadata.md\":\"7092f397\",\"guide_troubleshooting.md\":\"533b385c\",\"guide_variables.md\":\"feb38056\",\"index.md\":\"5d40f04c\",\"guide_scripting.md\":\"3d628433\",\"plugins_index.md\":\"6f6f8273\",\"guide_response.md\":\"3ba6808d\",\"guide_request.md\":\"afc15063\",\"plugins_plugin-api.md\":\"f63bc6f2\"}")</script>
    <script type="module" async src="/assets/app.346b35e8.js"></script>
    
  </body>
</html>